# Алгоритм применения регрессии для управления нагрузкой

Эта страница описывает *как* пользоваться уравнениями регрессии на практике: от прогноза маркеров до коррекции нагрузки и разрешения конфликтов.

## 1) Полное уравнение и «прямая» задача (прогноз)
Для каждого маркера строится модель:

```
ln(Y) = b0 + bV*ΔV + bP*ΔP + bR*ΔR
```

где ΔV, ΔP, ΔR — изменения относительно базового режима спортсмена (например, относительно среднего за 16 замеров).

**Прогноз делается так**:
1) задаём планируемые V, P, R;
2) считаем ΔV, ΔP, ΔR;
3) получаем ln(Y); затем
4) возвращаемся к исходной шкале: Y = exp(ln(Y)).

Пример (миоглобин, условные коэффициенты):
- bV = 0.00061, bP = −0.028, bR = −0.38.
- План: ΔV = +500 кг, ΔP = 0, ΔR = +0.5 мин.

Тогда изменение лог‑уровня:
- Δln(M) = 0.00061*500 + (−0.028)*0 + (−0.38)*0.5 = 0.305 − 0.19 = 0.115.
То есть M вырастет примерно в exp(0.115) ≈ 1.12 раза (≈ +12%).

## 2) «Обратная» задача (подбор нагрузки под цель)
Регрессия по природе решает прямую задачу. Но нам нужно управлять нагрузкой, то есть решать обратную задачу.

Практически это делается двумя способами:

### A) Точечная коррекция одного параметра
Если нужно изменить маркер на определённую величину, удобно менять один параметр (обычно самый «сильный» по модулю коэффициента).

Пример: миоглобин 70 мкг/л, нужно 50.
- ln(50/70) = ln(0.714) ≈ −0.337.
- Меняем только отдых: bR = −0.38.

Тогда:
- bR*ΔR = −0.337  →  ΔR = (−0.337)/(−0.38) ≈ +0.89 мин.

**Решение:** увеличить отдых примерно на 0.9 минуты, остальные параметры оставить.

### B) Компенсация (изменяем один параметр, «гасим» другим)
Иногда цель — увеличить, например, объём, но удержать маркер в целевой зоне. Тогда решаем уравнение компенсации:

```
0 = bV*ΔV + bP*ΔP + bR*ΔR
```

Пример: хотим увеличить объём на +500 кг и удержать миоглобин:
- bV = 0.00061, bR = −0.38.

Если компенсировать только отдыхом:
- 0 = 0.00061*500 − 0.38*ΔR
- ΔR = (0.00061*500)/0.38 ≈ 0.80 мин.

**Решение:** +500 кг объёма «стоит» примерно +0.8 минуты отдыха, чтобы маркер не рос.

## 3) Индивидуальная чувствительность
Индивидуальную чувствительность определяем сравнением |bV|, |bP|, |bR|.

Пример:
- |bR| = 0.38, |bP| = 0.028.
Тогда влияние отдыха примерно в 0.38/0.028 ≈ 13.6 раза сильнее влияния P (в пересчёте на 1 единицу измерения). Это сразу подсказывает, чем управлять проще всего.

## 4) Скорость изменения маркера
Коэффициент b задаёт скорость изменения маркера в лог‑шкале; в обычной шкале это множитель exp(b).

Пример:
- bR = −0.38: +1 мин отдыха → exp(−0.38) ≈ 0.684 → около −31.6%.
- bP = −0.028: +10 подъёмов (снижение интенсивности) → exp(−0.028*10) ≈ exp(−0.28) ≈ 0.756 → около −24.4%.

## 5) Приоритеты для коррекции
Практическое правило: выбираем параметр с наибольшим |b| (и с наименьшей «ценой» изменения для плана).

Пример (миоглобин): |bR| = 0.38 максимален → сначала корректируем отдых.

## 6) Конфликты между маркерами и их решение
Конфликт — это ситуация, когда нужное изменение для одного маркера ухудшает другой.

**Пример конфликта:**
- Миоглобин выше нормы → нужно снижать.
- Креатинин в нижней зоне нормы → нежелательно сильно снижать тренировочный стимул.

Если у креатинина bV положительный и bR отрицательный, то:
- снижение V уменьшает и миоглобин, и креатинин (риск «недостимула»),
- увеличение R снижает и миоглобин, и креатинин (может быть мягче, чем резать V).

**Как действуем на практике (алгоритм):**
1) задаём целевые зоны для всех маркеров (не только «не превышать», но и «не падать слишком низко»);
2) считаем, какой параметр сильнее влияет на проблемный маркер;
3) проверяем знаки коэффициентов у остальных маркеров (куда «поведёт» коррекция);
4) если коррекция ухудшает другой маркер — используем компенсацию (меняем 2 параметра малыми шагами) и пересчитываем прогноз;
5) выбираем минимальное изменение, которое выводит все маркеры в допустимые зоны.

Мини‑пример: нужно снизить миоглобин на 20% (множитель 0.8), но не «уронить» креатинин.
- ln(0.8) ≈ −0.223.
- делим коррекцию: половину через отдых, половину через P.

Тогда:
- через отдых: Δln = −0.112 → ΔR ≈ (−0.112)/(−0.38) ≈ +0.29 мин.
- через P: Δln = −0.112 → ΔP ≈ (−0.112)/(−0.028) ≈ +4 подъёма.

**Решение:** +0.3 мин отдыха и +4 подъёма вместо одной «жёсткой» правки. Это снижает риск конфликтов.
